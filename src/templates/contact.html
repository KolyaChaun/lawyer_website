<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ç–∞–∫—Ç–∏ | –ê–¥–≤–æ–∫–∞—Ç—Å—å–∫—ñ –ó–∞–ø–∏—Ç–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', path='css/styles.css') }}">
    <link rel="icon" href="{{ url_for('static', path='favicon.ico') }}?v=1" type="image/x-icon">
    <link rel="shortcut icon" href="{{ url_for('static', path='favicon.ico') }}?v=1" type="image/x-icon">
    <style>
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-weight: 600;
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 10000;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .toast {
                bottom: 20px;
                right: 20px;
                left: 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="/" class="logo">–ê–¥–≤–æ–∫–∞—Ç—Å—å–∫–∏–π<span>–ó–∞–ø–∏—Ç</span></a>
            <ul class="nav-links">
                <li><a href="/">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                <li><a href="/form">–ü–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Ç</a></li>
                <li><a href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
            </ul>
        </div>
    </nav>

    <div class="contact-page">
        <div class="contact-content">
            <div class="contact-info">
                <h2>–ó–≤'—è–∂—ñ—Ç—å—Å—è –ó –ù–∞–º–∏</h2>
                <p style="color: var(--gray); font-size: 1.2rem; margin-bottom: 3rem;">–ú–∏ –≥–æ—Ç–æ–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –≤—Å—ñ –≤–∞—à—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –Ω–∞–¥–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—É —é—Ä–∏–¥–∏—á–Ω—É –¥–æ–ø–æ–º–æ–≥—É</p>

                <div class="contact-item">
                    <h3>üìç –ê–¥—Ä–µ—Å–∞</h3>
                    <p>65016, –º. –û–¥–µ—Å–∞, –≤—É–ª. –ë–∞—à—Ç–∞–Ω–Ω–∞, 2</p>
                </div>

                <div class="contact-item">
                    <h3>üìû –¢–µ–ª–µ—Ñ–æ–Ω</h3>
                    <p>+380 (97) 224-67-54</p>
                </div>

                <div class="contact-item">
                    <h3>‚úâÔ∏è Email</h3>
                    <p>Nasaraya98@gmail.com</p>
                </div>

                <div class="contact-item">
                    <h3>üïê –ì–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏</h3>
                    <p>–ü–æ–Ω–µ–¥—ñ–ª–æ–∫ - –ü'—è—Ç–Ω–∏—Ü—è: 9:00 - 18:00<br>–°—É–±–æ—Ç–∞: 10:00 - 15:00<br>–ù–µ–¥—ñ–ª—è: –í–∏—Ö—ñ–¥–Ω–∏–π</p>
                </div>
            </div>

            <div class="contact-form-wrapper">
                <h3 style="font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 2rem; color: var(--navy);">–ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º</h3>
                <form id="contactForm" action="/contact/submit" method="post">
                    <div class="form-group">
                        <label>–í–∞—à–µ —ñ–º'—è</label>
                        <input type="text" name="name" id="name" placeholder="–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ">
                    </div>
                    <div class="form-group">
                        <label>Email (–Ω–µ–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)</label>
                        <input type="email" name="email" id="email" placeholder="ivan@example.com">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" name="phone" id="phone" placeholder="+380671234567">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)</label>
                        <textarea name="message" placeholder="–û–ø–∏—à—ñ—Ç—å –≤–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è..."></textarea>
                    </div>
                    <button type="submit" class="submit-button">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">–ê–¥–≤–æ–∫–∞—Ç—Å—å–∫–∏–π<span>–ó–∞–ø–∏—Ç</span></div>
            <p style="margin: 1rem 0;">–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —é—Ä–∏–¥–∏—á–Ω—ñ –ø–æ—Å–ª—É–≥–∏ –æ–Ω–ª–∞–π–Ω</p>
            <div class="footer-text">
                <p>¬© 2026 –ê–¥–≤–æ–∫–∞—Ç—Å—å–∫–∏–π–ó–∞–ø–∏—Ç. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
                <p style="margin-top: 0.5rem;">
                    –º. –û–¥–µ—Å–∞ |
                    <a href="tel:+380972246754" style="color: inherit; text-decoration: none;">+380 (97) 224-67-54</a> |
                    <a href="mailto:Nasaraya98@gmail.com" style="color: inherit; text-decoration: none;">Nasaraya98@gmail.com</a> |
                    <a href="https://t.me/nasaraya13" target="_blank" style="color: inherit; text-decoration: none;">üì± Telegram</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <span class="toast-icon">‚úì</span>
        <span class="toast-message"></span>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', () => {
    const contactForm = document.getElementById('contactForm');

    // Toast notification function
    function showToast(message) {
        const toast = document.getElementById('toast');
        const toastMessage = toast.querySelector('.toast-message');

        toastMessage.textContent = message;
        toast.classList.add('show');

        setTimeout(() => {
            toast.classList.remove('show');
        }, 4000);
    }

    // Check if success message exists (from backend)
    {% if success %}
    showToast("{{ success }}");
    // Clear form after successful submission
    contactForm.reset();
    {% endif %}

    // –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    const regexPatterns = {
        phone: /^\+380\d{9}$/,                // +380XXXXXXXXX
        email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/   // email
    };

    function showError(input, message) {
        let errorEl = input.parentNode.querySelector('.error-message');
        if (!errorEl) {
            errorEl = document.createElement('div');
            errorEl.className = 'error-message';
            errorEl.style.color = '#ef4444';
            errorEl.style.fontSize = '0.9rem';
            input.parentNode.appendChild(errorEl);
        }
        errorEl.textContent = message;
        errorEl.classList.add('show');
        input.style.borderColor = '#ef4444';
    }

    function clearError(input) {
        const errorEl = input.parentNode.querySelector('.error-message');
        if (errorEl) {
            errorEl.classList.remove('show');
            errorEl.textContent = '';
        }
        input.style.borderColor = '';
    }

    function validateField(input) {
        clearError(input);
        const val = input.value.trim();
        let valid = true;

        // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: name –∏ phone
        if ((input.id === 'name' || input.id === 'phone') && !val) {
            showError(input, "–¶–µ –ø–æ–ª–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ");
            valid = false;
        } else if (val) {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            if (input.id === 'phone' && !regexPatterns.phone.test(val)) {
                showError(input, "–í–≤–µ–¥—ñ—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω —É —Ñ–æ—Ä–º–∞—Ç—ñ +380XXXXXXXXX");
                valid = false;
            }
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ email, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω
            if (input.id === 'email' && !regexPatterns.email.test(val)) {
                showError(input, "–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –ø–æ—à—Ç—É");
                valid = false;
            }
        }

        return valid;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
    contactForm.addEventListener('submit', (e) => {
        const inputs = contactForm.querySelectorAll('input, textarea');
        let formValid = true;

        inputs.forEach(input => {
            if (!validateField(input)) formValid = false;
        });

        if (!formValid) e.preventDefault();
    });

    // Live –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
    contactForm.querySelectorAll('input, textarea').forEach(input => {
        input.addEventListener('input', () => validateField(input));
    });
});
</script>

</body>
</html>